import { CSVBuilder } from "../../csvBuilders"
import {Skill} from "../Skill"

// Mocks
import {
  skills_correct,
  skills_incorrect,
  skills_to_much
} from "../../../../__mocks__/skillsMock"
import { empty_data } from "../../../../__mocks__/emptyDataMock"
const expectedHTMLOutput = '<div id="it-skills"><div class="skill-card-grid"><h2 class="skill-grid-header">Frontend</h2><div class="skill-grid-item"><ul class="skill-list"><li class="skill-row"><div class="skill-text">Redux</div><div class="fill-up-five-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">React</div><div class="fill-up-five-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">Angular</div><div class="fill-up-four-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">TypeScript</div><div class="fill-up-five-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">JavaScript</div><div class="fill-up-five-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li></ul></div><div class="skill-grid-item"><ul class="skill-list"><li class="skill-row"><div class="skill-text">jQuery</div><div class="fill-up-four-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">JUnit</div><div class="fill-up-four-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">Jest</div><div class="fill-up-five-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">React-Testing-Library</div><div class="fill-up-five-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">Android</div><div class="fill-up-three-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">Swift</div><div class="fill-up-three-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li></ul></div></div><div class="skill-card-grid"><h2 class="skill-grid-header">Backend</h2><div class="skill-grid-item"><ul class="skill-list"><li class="skill-row"><div class="skill-text">Spring</div><div class="fill-up-four-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">Node.js</div><div class="fill-up-four-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">Java</div><div class="fill-up-five-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li></ul></div><div class="skill-grid-item"><ul class="skill-list"><li class="skill-row"><div class="skill-text">Maven</div><div class="fill-up-four-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">Firebase</div><div class="fill-up-five-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">REST</div><div class="fill-up-five-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">Git</div><div class="fill-up-five-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li></ul></div></div><div class="skill-card-grid"><h2 class="skill-grid-header">Other</h2><div class="skill-grid-item"><ul class="skill-list"><li class="skill-row"><div class="skill-text">Eclipse</div><div class="fill-up-four-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">IntelliJ</div><div class="fill-up-four-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">Visual Studio Code</div><div class="fill-up-five-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li></ul></div><div class="skill-grid-item"><ul class="skill-list"><li class="skill-row"><div class="skill-text">Atlassian Tools</div><div class="fill-up-four-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">CI /CD</div><div class="fill-up-four-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">Scrum</div><div class="fill-up-five-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">XCode</div><div class="fill-up-four-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li></ul></div></div><div class="skill-card-grid"><h2 class="skill-grid-header">Media</h2><div class="skill-grid-item"><ul class="skill-list"><li class="skill-row"><div class="skill-text">Cubase Pro</div><div class="fill-up-four-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">Final Cut Pro</div><div class="fill-up-five-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li></ul></div><div class="skill-grid-item"><ul class="skill-list"><li class="skill-row"><div class="skill-text">Gimp</div><div class="fill-up-five-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li><li class="skill-row"><div class="skill-text">Guitar Pro</div><div class="fill-up-four-circles"><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div><div class="circle-container"></div></div></li></ul></div></div></div>'
const expectedHTMLOutputForIncorrectData = '<div id="it-skills"></div>'

let skillBuilder = undefined

describe('Skill card grid', () => {
  beforeEach(() => {
    document.body.innerHTML = '<div id="it-skills"></div>';
    skillBuilder = new CSVBuilder.SkillBuilder()
  })

  test('buildSkills with correct raw data', async () => {
    await skillBuilder.build(skills_correct)
    expect(expectedHTMLOutput).toEqual(document.body.innerHTML)
  });

  test('buildSkills with incorrect raw data', async () => {
    await skillBuilder.build(skills_incorrect)
    expect(expectedHTMLOutputForIncorrectData).toEqual(document.body.innerHTML)
  });
  test('buildSkills with to much data', async () => {
    await skillBuilder.build(skills_to_much)
    expect(expectedHTMLOutputForIncorrectData).toEqual(document.body.innerHTML)
  });
  test('buildSkills with empty data', async () => {
    await skillBuilder.build(empty_data)
    expect(expectedHTMLOutputForIncorrectData).toEqual(document.body.innerHTML)
  });
})
